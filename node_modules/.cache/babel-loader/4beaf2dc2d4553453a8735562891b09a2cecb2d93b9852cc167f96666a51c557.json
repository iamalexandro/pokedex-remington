{"ast":null,"code":"var _jsxFileName = \"/Users/nicola/Documents/develop/pokedex/src/pages/Dashboard.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\n// import Swal from \"sweetalert2\";\nimport Loader from \"../Loader\";\nimport Nav from \"../components/Nav\";\nimport Card from \"../components/Card\";\n\n//styles\nimport \"../index.scss\";\nimport \"./styles/Dashboard.scss\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const Dashboard = () => {\n  _s();\n  const navigate = useNavigate();\n  const [pokemonList, setPokemonList] = useState([]);\n  const [page, setPage] = useState(1);\n  const [loading, setLoading] = useState(false);\n  useEffect(() => {\n    validateToken();\n  }, [navigate]);\n  useEffect(() => {\n    bringPokemons(page);\n    handlePageChange(page);\n    return () => {};\n  }, [page]);\n  const validateToken = () => {\n    const token = sessionStorage.getItem(\"token\");\n    if (token) {\n      navigate(\"/dashboard\");\n    } else {\n      navigate(\"/login\");\n    }\n  };\n  const bringPokemons = async page => {\n    setLoading(true);\n    try {\n      const res = await axios.get(`https://pokeapi.co/api/v2/pokemon?limit=10&offset=${page === 1 ? 0 : page * 10 - 10}`);\n      const results = res.data.results;\n      const pokemonData = await Promise.all(results.map(async pokemon => {\n        const res = await axios.get(pokemon.url);\n        return res.data;\n      }));\n      setLoading(false);\n      setPokemonList(pokemonData);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  const cleanActivePageButton = () => {\n    let activeBtn = document.querySelector(\".btn-pag__active\");\n    activeBtn.classList.remove(\"btn-pag__active\");\n  };\n  const handlePageChange = page => {\n    cleanActivePageButton();\n    let btnToActive = document.querySelector(\".pagination\").childNodes[page - 1];\n    btnToActive.classList.add(\"btn-pag__active\");\n    window.scroll({\n      top: 0,\n      behavior: \"smooth\"\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"dashboard\",\n    children: [/*#__PURE__*/_jsxDEV(Nav, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"cards flex flex-wrap m-auto p-6 justify-center\",\n      children: [loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-4\",\n        children: /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 11\n      }, this) : pokemonList.map(pokemon => /*#__PURE__*/_jsxDEV(Card, {\n        name: pokemon.name,\n        weight: pokemon.weight,\n        img: pokemon.sprites.other.dream_world.front_default,\n        move: pokemon.moves[0].move.name,\n        move2: pokemon.moves[1] ? pokemon.moves[1].move.name : \"\",\n        statName: pokemon.stats[0].stat.name,\n        statBase: pokemon.stats[0].base_stat\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 13\n      }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pagination flex w-full h-8 justify-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn-pag btn-pag--first btn-pag__active\",\n          onClick: () => setPage(1),\n          children: \"1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn-pag\",\n          onClick: () => setPage(2),\n          children: \"2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn-pag\",\n          onClick: () => setPage(3),\n          children: \"3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn-pag\",\n          onClick: () => setPage(4),\n          children: \"4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn-pag\",\n          onClick: () => setPage(5),\n          children: \"5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 78,\n    columnNumber: 5\n  }, this);\n};\n_s(Dashboard, \"EYgxTyXTEUgyYT+vv8g5UN/xYk4=\", false, function () {\n  return [useNavigate];\n});\n_c = Dashboard;\nexport default Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["React","useEffect","useState","useNavigate","axios","Loader","Nav","Card","jsxDEV","_jsxDEV","Dashboard","_s","navigate","pokemonList","setPokemonList","page","setPage","loading","setLoading","validateToken","bringPokemons","handlePageChange","token","sessionStorage","getItem","res","get","results","data","pokemonData","Promise","all","map","pokemon","url","error","console","log","cleanActivePageButton","activeBtn","document","querySelector","classList","remove","btnToActive","childNodes","add","window","scroll","top","behavior","className","children","fileName","_jsxFileName","lineNumber","columnNumber","name","weight","img","sprites","other","dream_world","front_default","move","moves","move2","statName","stats","stat","statBase","base_stat","onClick","_c","$RefreshReg$"],"sources":["/Users/nicola/Documents/develop/pokedex/src/pages/Dashboard.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\n// import Swal from \"sweetalert2\";\nimport Loader from \"../Loader\";\nimport Nav from \"../components/Nav\";\nimport Card from \"../components/Card\";\n\n//styles\nimport \"../index.scss\";\nimport \"./styles/Dashboard.scss\";\n\nexport const Dashboard = () => {\n  const navigate = useNavigate();\n\n  const [pokemonList, setPokemonList] = useState([]);\n  const [page, setPage] = useState(1);\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    validateToken();\n  }, [navigate]);\n\n  useEffect(() => {\n    bringPokemons(page);\n    handlePageChange(page);\n    return () => {};\n  }, [page]);\n\n  const validateToken = () => {\n    const token = sessionStorage.getItem(\"token\");\n    if (token) {\n      navigate(\"/dashboard\");\n    } else {\n      navigate(\"/login\");\n    }\n  };\n\n  const bringPokemons = async (page) => {\n    setLoading(true);\n    try {\n      const res = await axios.get(\n        `https://pokeapi.co/api/v2/pokemon?limit=10&offset=${\n          page === 1 ? 0 : page * 10 - 10\n        }`\n      );\n      const results = res.data.results;\n      const pokemonData = await Promise.all(\n        results.map(async (pokemon) => {\n          const res = await axios.get(pokemon.url);\n          return res.data;\n        })\n      );\n      setLoading(false);\n      setPokemonList(pokemonData);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const cleanActivePageButton = () => {\n    let activeBtn = document.querySelector(\".btn-pag__active\");\n    activeBtn.classList.remove(\"btn-pag__active\");\n  };\n\n  const handlePageChange = (page) => {\n    cleanActivePageButton();\n    let btnToActive =\n      document.querySelector(\".pagination\").childNodes[page - 1];\n    btnToActive.classList.add(\"btn-pag__active\");\n    window.scroll({\n      top: 0,\n      behavior: \"smooth\",\n    });\n  };\n\n  return (\n    <div className=\"dashboard\">\n      <Nav />\n      {/* cards  */}\n      <div className=\"cards flex flex-wrap m-auto p-6 justify-center\">\n        {loading ? (\n          <div className=\"mb-4\">\n            <Loader />\n          </div>\n        ) : (\n          pokemonList.map((pokemon) => (\n            <Card\n              name={pokemon.name}\n              weight={pokemon.weight}\n              img={pokemon.sprites.other.dream_world.front_default}\n              move={pokemon.moves[0].move.name}\n              move2={pokemon.moves[1] ? pokemon.moves[1].move.name : \"\"}\n              statName={pokemon.stats[0].stat.name}\n              statBase={pokemon.stats[0].base_stat}\n            />\n          ))\n        )}\n\n        {/* Pagination */}\n        <div className=\"pagination flex w-full h-8 justify-center\">\n          <button\n            className=\"btn-pag btn-pag--first btn-pag__active\"\n            onClick={() => setPage(1)}>\n            1\n          </button>\n          <button className=\"btn-pag\" onClick={() => setPage(2)}>\n            2\n          </button>\n          <button className=\"btn-pag\" onClick={() => setPage(3)}>\n            3\n          </button>\n          <button className=\"btn-pag\" onClick={() => setPage(4)}>\n            4\n          </button>\n          <button className=\"btn-pag\" onClick={() => setPage(5)}>\n            5\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Dashboard;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}